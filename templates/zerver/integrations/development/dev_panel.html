{% extends "zerver/portico.html" %}
{% set entrypoint = "integrations-dev-panel" %}

{% block customhead %}

<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}


{% block content %}
<div class="header portico-header">
    <div class="header-main top-navbar">
        <div>
            <a class="brand logo">
                <svg role="img" aria-label="{{ _('Zulip') }}" xmlns="http://www.w3.org/2000/svg" viewBox="23.17 24.83 717.54 202.5" height="25">
                    <path fill="hsl(0, 0%, 27%)" d="M300.69 154.65l49.75-72.25V68.45h-77.48v19.97h46.11v.63l-50.86 73.21v12.99h83.03v-19.97h-50.55zm144.67-24.72c0 18.86-6.97 27.73-19.65 27.73-12.36 0-19.33-9.35-19.33-27.73V68.45h-24.24v59.58c0 34.07 15.84 48.96 42.78 48.96 27.89 0 44.52-15.69 44.52-48.64v-59.9h-24.08v61.48zm85.08-61.48H506.2v106.8h66.71v-20.28h-42.47zm72.57 0h24.24v106.79h-24.24zm126.29 7.77c-7.13-5.7-17.75-8.56-32.64-8.56-14.74 0-25.19.95-32.64 2.22v105.37h23.93v-38.19c2.22.32 5.07.48 8.24.48 14.26 0 26.46-3.49 34.7-11.25 6.34-6.02 9.82-14.89 9.82-25.35-.01-10.46-4.6-19.33-11.41-24.72zM696.02 119c-3.49 0-6.02-.16-8.08-.63V86.83c1.74-.48 5.07-.95 9.98-.95 12.04 0 18.86 5.86 18.86 15.69 0 10.93-7.92 17.43-20.76 17.43zM172.49 35.26H54.76c-13.8 0-25.1 11.72-25.1 26.05s11.29 26.05 25.1 26.05h89.12c1.32 0 2.16 1.47 1.51 2.67l-22.98 42.8c-.84 1.25.67 2.75 1.84 1.82l62.64-52.05c6.45-4.73 10.69-12.52 10.69-21.29 0-14.33-11.29-26.05-25.09-26.05zm0 122.04H83.37c-1.32 0-2.16-1.47-1.51-2.67l22.98-42.8c.84-1.25-.67-2.75-1.84-1.82l-62.64 52.05c-6.45 4.73-10.69 12.52-10.69 21.29 0 14.33 11.29 26.05 25.1 26.05h117.72c13.8 0 25.1-11.72 25.1-26.05-.01-14.33-11.3-26.05-25.1-26.05z"/>
                </svg>
            </a>
        </div>

        <div class="centerpiece">Integrations Developer Panel</div>

        <div class="top-links">
            <a href="/">Go to Zulip</a>
        </div>

    </div>
</div>

<div class="pad-small"></div>

<div id="dev-panel">
    <div class="row1">
        <div>
            <label for="bot_name"><b>Bot</b></label>
            <select id="bot_name">
                <option value=""></option>
                {% for bot in bots %}
                <option value="{{ bot.api_key }}"> {{ bot.full_name }} </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label><b>Integration</b></label>
            <select id="integration_name">
                <option value=""></option>
                {% for integration in integrations %}
                <option value="{{ integration }}"> {{ integration }} </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for="fixture_name"><b>Fixture</b></label>
            <select id="fixture_name"></select>
        </div>

        <div>
            <label class="optional"><b>Stream</b></label>
            <input id="stream_name" type="text" />
        </div>

        <div>
            <label class="optional"><b>Topic</b></label>
            <input id="topic_name" type="text" />
        </div>
    </div>

    <br>

    <div class="row2">
        <label for="URL"><b>URL</b>  (Automatically Generated)</label>
        <input id="URL" type="text" />
    </div>

    <br>

    <div class="row3">
        <label for="custom_http_headers"><b>Custom HTTP Headers</b></label>
        <textarea id="custom_http_headers"></textarea>
    </div>

    <br>

    <div class="row4">
        <div class="col1">
            <div class="inline">
                <label for="fixture_body"><b>Fixture Body</b></label>
                <span id="results_notice"></span>
            </div>
            <textarea id="fixture_body"></textarea>
            <div class="buttons">
                <button id="send_all_fixtures_button">Send All</button>
                <button id="send_fixture_button">Send!</button>
            </div>
        </div>
        <div class="col1">
            <label for="idp-results"><b>Results</b></label>
            <textarea id="idp-results" readonly></textarea>
        </div>
    </div>

</div>

<div class="pad-small"></div>
<input id="csrftoken" type="hidden" value="{{ csrf_token }}">

{% endblock %}
